# ============================================================================
# BI Platform Environment Configuration
# ============================================================================
# Copy this file to .env and update with your actual values
# DO NOT commit .env to version control!
# ============================================================================

# Environment Settings
# Options: development, staging, production
ENVIRONMENT=development
DEBUG=false
PROJECT_NAME="BI Platform"
VERSION="1.0.0"

# ============================================================================
# PostgreSQL Analytics Database
# ============================================================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5433
POSTGRES_DB=analytics
POSTGRES_USER=analytics
POSTGRES_PASSWORD=analytics

# ============================================================================
# Kafka Message Broker
# ============================================================================
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_TOPIC_PRODUCT=cord.ConcordDb.dbo.Product
KAFKA_CONSUMER_GROUP_PREFIX=bi-platform
KAFKA_AUTO_OFFSET_RESET=earliest

# ============================================================================
# MinIO S3-Compatible Storage
# ============================================================================
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_SECURE=false
MINIO_BUCKET_RAW=cord-raw

# ============================================================================
# SQL Server Source Database
# ============================================================================
SQLSERVER_HOST=localhost
SQLSERVER_PORT=1433
SQLSERVER_DATABASE=ConcordDb
SQLSERVER_USER=sa
SQLSERVER_PASSWORD=YourStrongPassword123!
SQLSERVER_DRIVER=ODBC Driver 17 for SQL Server

# ============================================================================
# Machine Learning Configuration
# ============================================================================
# Embedding model from HuggingFace
# Options: sentence-transformers/all-MiniLM-L6-v2, paraphrase-multilingual-MiniLM-L12-v2
ML_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
ML_EMBEDDING_DIMENSION=384

# Device for ML inference
# Options: cpu, cuda, mps, auto
ML_DEVICE=auto

# Batch size for embedding generation
ML_BATCH_SIZE=32

# Chunk size for processing embeddings
ML_EMBEDDING_CHUNK_SIZE=1000

# Enable watermark-based incremental updates
ML_ENABLE_WATERMARK=true

# ============================================================================
# FastAPI Search API
# ============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1
API_RELOAD=false
API_LOG_LEVEL=info

# CORS origins (comma-separated list or ["*"] for all)
API_CORS_ORIGINS=["*"]

# Request limits
API_MAX_QUERY_LENGTH=500
API_MAX_RESULTS=100
API_DEFAULT_RESULTS=20

# ============================================================================
# Observability & Monitoring
# ============================================================================
# Sentry error tracking (leave empty to disable)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# Prometheus metrics
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=text

# ============================================================================
# Production-Specific Settings
# ============================================================================
# When ENVIRONMENT=production, ensure you:
# 1. Set strong passwords for all services
# 2. Enable HTTPS/TLS where applicable
# 3. Configure Sentry for error tracking
# 4. Enable Prometheus for metrics
# 5. Set API_WORKERS to number of CPU cores
# 6. Disable API_RELOAD
# ============================================================================
